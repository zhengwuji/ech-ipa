[tool.briefcase]
project_name = "ECH Workers Client"
bundle = "com.echworkers"
version = "1.2.0"
url = "https://github.com/zhengwuji/ech-ipa"
license = "MIT"
author = "ECH Workers Team"
author_email = "support@example.com"

[tool.briefcase.app.echipa]
formal_name = "ECH Workers"
description = "ECH Workers Proxy Client for iOS"
long_description = """ECH Workers 代理客户端 - iOS版本

基于 ECH (Encrypted Client Hello) 技术的代理客户端，支持：
- 多服务器管理
- 分流设置（全局/跳过中国大陆）
- 实时日志查看
- 系统代理配置
"""
icon = "src/echipa/resources/icon"
sources = ["src/echipa"]
test_sources = []

requires = [
    "toga>=0.4.0",
    "httpx>=0.27.0",
]

[tool.briefcase.app.echipa.macOS]
requires = []

[tool.briefcase.app.echipa.linux]
requires = []

[tool.briefcase.app.echipa.linux.system.debian]
system_requires = []
system_runtime_requires = []

[tool.briefcase.app.echipa.linux.system.rhel]
system_requires = []
system_runtime_requires = []

[tool.briefcase.app.echipa.linux.system.arch]
system_requires = []
system_runtime_requires = []

[tool.briefcase.app.echipa.linux.appimage]
system_requires = []

[tool.briefcase.app.echipa.windows]
requires = []

[tool.briefcase.app.echipa.iOS]
supported = true
requires = []

# iOS特定配置
deployment_target = "12.0"

# Info.plist 配置
[tool.briefcase.app.echipa.iOS.info]
# 支持后台运行
UIBackgroundModes = ["fetch", "processing"]

# 允许本地网络访问
NSLocalNetworkUsageDescription = "ECH Workers需要访问本地网络以提供代理服务"

# 权限描述
NSCameraUsageDescription = "应用不使用相机"
NSPhotoLibraryUsageDescription = "应用不使用相册"

# 隐私清单
NSPrivacyAccessedAPITypes = []

[tool.briefcase.app.echipa.android]
requires = []

